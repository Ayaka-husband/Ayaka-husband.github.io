<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>æ¸©æŸ”æé†’ï¼ˆPythonä¸HTMLé€»è¾‘åˆå¹¶ç‰ˆï¼‰</title>
    <style>
        /* åŸºç¡€æ ·å¼é‡ç½® */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "å¾®è½¯é›…é»‘", sans-serif;
        }
        body {
            width: 100vw;
            height: 100vh;
            overflow: hidden;
            background: #fff;
        }

        /* å¯åŠ¨é¡µæ ·å¼ */
        .start-page {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 100;
        }
        .title {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }
        .gift {
            font-size: 40px;
            margin-right: 15px;
        }
        .main-title {
            font-size: 24px;
            font-weight: bold;
            color: #4a6fa5;
        }
        .sub-title {
            font-size: 16px;
            color: #666;
            margin-bottom: 50px;
        }
        .start-btn {
            width: 200px;
            height: 50px;
            font-size: 18px;
            color: #4a6fa5;
            background: white;
            border: 2px solid #4a6fa5;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
        }

        /* ç¥ç¦çª—å£å®¹å™¨ */
        .tips-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 50;
        }
        .tip-window {
            position: absolute;
            width: 70vw;
            max-width: 280px;
            height: 110px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: opacity 0.6s;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .tip-text {
            font-size: 16px;
            color: #333;
            text-align: center;
            padding: 0 15px;
        }

        /* ç»“æŸé¡µæ ·å¼ */
        .final-page {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: white;
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 200;
        }
        .final-text {
            font-size: 22px;
            font-weight: bold;
            background: lightpink;
            padding: 15px 30px;
            border-radius: 8px;
            margin-bottom: 30px;
        }
        .exit-btn {
            width: 120px;
            height: 40px;
            font-size: 14px;
            background: #4a6fa5;
            color: white;
            border: none;
            border-radius: 20px;
            cursor: pointer;
        }

        /* æ‰‹æœºé€‚é… */
        @media (max-width: 768px) {
            .tip-window {
                width: 80vw;
                height: 120px;
            }
            .main-title {
                font-size: 20px;
            }
            .final-text {
                font-size: 18px;
                padding: 12px 20px;
            }
        }
    </style>
</head>
<body>
    <!-- å¯åŠ¨é¡µï¼šå¯¹åº”Pythonä¸­çš„create_start_windowå‡½æ•° -->
    <div class="start-page" id="startPage">
        <div class="title">
            <span class="gift">ğŸ</span>
            <span class="main-title">ä½ æ”¶åˆ°äº†ä¸€ä»½æ¸©æŸ”æé†’</span>
        </div>
        <span class="sub-title">æœ‹å‹ä¸ºä½ å‡†å¤‡äº†ä¸€äº›æ¸©æš–çš„è¯è¯­</span>
        <button class="start-btn" id="startBtn">å¼€å§‹ä½“éªŒ</button>
    </div>

    <!-- ç¥ç¦çª—å£å®¹å™¨ï¼šå¯¹åº”Pythonä¸­åŠ¨æ€åˆ›å»ºçš„Toplevelçª—å£å®¹å™¨ -->
    <div class="tips-container" id="tipsContainer"></div>

    <!-- ç»“æŸé¡µï¼šå¯¹åº”Pythonä¸­çš„create_final_windowå‡½æ•° -->
    <div class="final-page" id="finalPage">
        <div class="final-text">è°¢è°¢è§‚çœ‹æˆ‘çš„å¥½æœ‹å‹</div>
        <button class="exit-btn" id="exitBtn">é€€å‡º</button>
    </div>

    <script>
        // ===== å¯¹åº”Pythonä¸­çš„å˜é‡å®šä¹‰ =====
        // è·å–é¡µé¢å…ƒç´ ï¼ˆç±»ä¼¼Pythonä¸­çš„tkinterç»„ä»¶å¯¹è±¡ï¼‰
        const startPage = document.getElementById('startPage');
        const startBtn = document.getElementById('startBtn');
        const tipsContainer = document.getElementById('tipsContainer');
        const finalPage = document.getElementById('finalPage');
        const exitBtn = document.getElementById('exitBtn');

        // ç¥ç¦è¯­å¥åˆ—è¡¨ï¼ˆä¸Pythonä¸­çš„tipsåˆ—è¡¨å®Œå…¨ä¸€è‡´ï¼‰
        const tips = [
            'å¤šå–æ°´å“¦ï½', 'ä¿æŒå¾®ç¬‘å‘€', 'æ¯å¤©éƒ½è¦å…ƒæ°”æ»¡æ»¡', 'ä¿æŒå¥½å¿ƒæƒ…', 'å¥½å¥½çˆ±è‡ªå·±',
            'æ¢¦æƒ³æˆçœŸ', 'é¡ºé¡ºåˆ©åˆ©', 'æ—©ç‚¹ä¼‘æ¯', 'æ„¿æ‰€æœ‰çƒ¦æ¼éƒ½æ¶ˆå¤±', 'åˆ«ç†¬å¤œ',
            'ä»Šå¤©è¿‡å¾—å¼€å¿ƒå˜›', 'å¤©å†·äº†ï¼Œå¤šç©¿è¡£æœ', 'æ–°çš„ä¸€å¤©ä¹Ÿè¦é—ªé—ªå‘å…‰å‘€', 'ç´¯äº†å°±åœä¸‹æ¥æ­‡ä¸€æ­‡',
            'ä½ çš„åŠªåŠ›è¶…æ£’çš„', 'è®°å¾—ç»™ç”Ÿæ´»åŠ ç‚¹ç”œ', 'è„šæ­¥æ…¢ä¸€ç‚¹ä¹Ÿæ²¡å…³ç³»', 'åƒé˜³å…‰ä¸€æ ·ç¿çƒ‚å§',
            'å°æ—¥å­ä¼šè¶Šæ¥è¶Šé¡ºçš„', 'ç…§é¡¾å¥½è‡ªå·±å‘€'
        ];
        // èƒŒæ™¯è‰²åˆ—è¡¨ï¼ˆä¸Pythonä¸­çš„bg_colorsåˆ—è¡¨å®Œå…¨ä¸€è‡´ï¼‰
        const bgColors = [
            'lightpink', 'skyblue', 'lightgreen', 'lavender', 'lightyellow', 'plum',
            'coral', 'bisque', 'aquamarine', 'mistyrose', 'honeydew', 'lavenderblush', 'oldlace'
        ];

        // ===== å¯¹åº”Pythonä¸­çš„äº‹ä»¶ç»‘å®š =====
        // å¼€å§‹æŒ‰é’®ç‚¹å‡»äº‹ä»¶ï¼ˆå¯¹åº”Pythonä¸­start_btnçš„commandå‚æ•°ï¼‰
        startBtn.addEventListener('click', () => {
            startPage.style.display = 'none'; // éšè—å¯åŠ¨é¡µï¼ˆå¯¹åº”Pythonä¸­start_window.destroy()ï¼‰
            createTipWindows(); // åˆ›å»ºç¥ç¦çª—å£
        });

        // é€€å‡ºæŒ‰é’®ç‚¹å‡»äº‹ä»¶ï¼ˆå¯¹åº”Pythonä¸­exitæŒ‰é’®çš„commandå‚æ•°ï¼‰
        exitBtn.addEventListener('click', () => {
            if (window.WeixinJSBridge) WeixinJSBridge.call('closeWindow'); // å¾®ä¿¡ä¸­å…³é—­çª—å£
            else location.reload(); // å…¶ä»–æµè§ˆå™¨åˆ·æ–°é‡ç½®
        });

        // ===== æ ¸å¿ƒé€»è¾‘å‡½æ•°ï¼ˆä¸Pythonå‡½æ•°ä¸€ä¸€å¯¹åº”ï¼‰ =====
        /**
         * åˆ›å»ºæ‰€æœ‰ç¥ç¦çª—å£
         * å¯¹åº”Pythonä¸­çš„create_tip_windowå‡½æ•° + start_experienceä¸­çš„å¾ªç¯åˆ›å»ºé€»è¾‘
         */
        function createTipWindows() {
            const windowCount = 20; // çª—å£æ•°é‡ï¼ˆæ¯”Pythonçš„200å°‘ï¼Œé€‚é…æ‰‹æœºï¼‰
            const screenWidth = window.innerWidth; // å±å¹•å®½åº¦ï¼ˆå¯¹åº”Pythonä¸­çš„main_window.winfo_screenwidth()ï¼‰
            const screenHeight = window.innerHeight; // å±å¹•é«˜åº¦ï¼ˆå¯¹åº”Pythonä¸­çš„main_window.winfo_screenheight()ï¼‰
            const windowWidth = Math.min(screenWidth * 0.7, 280); // çª—å£å®½åº¦ï¼ˆåŠ¨æ€è®¡ç®—ï¼Œé€‚é…æ‰‹æœºï¼‰
            const windowHeight = 110; // çª—å£é«˜åº¦
            tipsContainer.innerHTML = ''; // æ¸…ç©ºå®¹å™¨

            // å¾ªç¯åˆ›å»ºçª—å£ï¼ˆå¯¹åº”Pythonä¸­for _ in range(200)çš„å¾ªç¯ï¼‰
            for (let i = 0; i < windowCount; i++) {
                // è®¡ç®—éšæœºä½ç½®ï¼ˆç¡®ä¿çª—å£åœ¨å±å¹•å†…ï¼Œå¯¹åº”Pythonä¸­çš„random.randintï¼‰
                const maxLeft = screenWidth - windowWidth - 20;
                const maxTop = screenHeight - windowHeight - 20;
                const left = 10 + Math.random() * maxLeft;
                const top = 10 + Math.random() * maxTop;

                // éšæœºé€‰æ‹©æ–‡å­—å’ŒèƒŒæ™¯è‰²ï¼ˆå¯¹åº”Pythonä¸­çš„random.choiceï¼‰
                const tipText = tips[Math.floor(Math.random() * tips.length)];
                const bgColor = bgColors[Math.floor(Math.random() * bgColors.length)];

                // åˆ›å»ºçª—å£å…ƒç´ ï¼ˆå¯¹åº”Pythonä¸­çš„tk.Toplevelï¼‰
                const tipWindow = document.createElement('div');
                tipWindow.className = 'tip-window';
                tipWindow.style.left = `${left}px`;
                tipWindow.style.top = `${top}px`;
                tipWindow.style.width = `${windowWidth}px`;
                tipWindow.style.height = `${windowHeight}px`;
                tipWindow.style.backgroundColor = bgColor;
                tipWindow.innerHTML = `<span class="tip-text">${tipText}</span>`; // å¯¹åº”Pythonä¸­çš„tk.Label
                tipsContainer.appendChild(tipWindow);

                // æ§åˆ¶åˆ›å»ºé€Ÿåº¦ï¼ˆå¯¹åº”Pythonä¸­çš„time.sleep(0.01)ï¼‰
                if (i < windowCount - 1) awaitSleep(20);
            }

            // 2ç§’åå¼€å§‹å…³é—­çª—å£ï¼ˆå¯¹åº”Pythonä¸­çš„main_window.after(2000, ...)ï¼‰
            setTimeout(() => closeWindowsOneByOne(0), 2000);
        }

        /**
         * é€ä¸ªå…³é—­çª—å£
         * å®Œå…¨å¯¹åº”Pythonä¸­çš„close_windows_one_by_oneå‡½æ•°
         */
        function closeWindowsOneByOne(index) {
            const allWindows = document.querySelectorAll('.tip-window'); // è·å–æ‰€æœ‰çª—å£
            if (index < allWindows.length) {
                allWindows[index].style.opacity = '0'; // æ·¡å‡ºæ•ˆæœï¼ˆå¯¹åº”Pythonä¸­çš„window.destroy()ï¼‰
                setTimeout(() => closeWindowsOneByOne(index + 1), 30); // é€’å½’å…³é—­ä¸‹ä¸€ä¸ª
            } else {
                finalPage.style.display = 'flex'; // æ˜¾ç¤ºç»“æŸé¡µï¼ˆå¯¹åº”Pythonä¸­çš„create_final_windowï¼‰
            }
        }

        /**
         * ä¼‘çœ å‡½æ•°
         * å¯¹åº”Pythonä¸­çš„time.sleepå‡½æ•°
         */
        function awaitSleep(ms) {
            const start = Date.now();
            while (Date.now() - start < ms) {}
        }
    </script>
</body>
</html>