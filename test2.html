<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>æ¸©æŸ”æé†’</title>
    <style>
        /* åŸºç¡€æ ·å¼é‡ç½® */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "å¾®è½¯é›…é»‘", sans-serif;
        }
        body {
            width: 100vw;
            height: 100vh;
            overflow: hidden;
            background: #fff;
        }

        /* å¯åŠ¨é¡µæ ·å¼ï¼ˆå¯¹åº”Pythonçš„create_start_windowï¼‰ */
        .start-page {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 100;
        }
        .title {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }
        .gift {
            font-size: 40px;
            margin-right: 15px;
        }
        .main-title {
            font-size: 24px;
            font-weight: bold;
            color: #4a6fa5;
        }
        .sub-title {
            font-size: 16px;
            color: #666;
            margin-bottom: 50px;
        }
        .start-btn {
            width: 200px;
            height: 50px;
            font-size: 18px;
            color: #4a6fa5;
            background: white;
            border: 2px solid #4a6fa5;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
        }
        .start-btn:hover {
            background: #4a6fa5;
            color: white;
        }

        /* ç¥ç¦çª—å£å®¹å™¨ï¼ˆå¯¹åº”Pythonçš„Toplevelçª—å£é›†åˆï¼‰ */
        .tips-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 50;
        }
        /* å•ä¸ªç¥ç¦çª—å£æ ·å¼ï¼ˆå¯¹åº”Pythonçš„create_tip_windowï¼‰ */
        .tip-window {
            position: absolute;
            width: 300px;
            height: 90px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15); /* åŠ æ·±é˜´å½±ï¼Œå¢å¼ºç«‹ä½“æ„Ÿ */
            transform: scale(0.8); /* åˆå§‹ç¼©å° */
            opacity: 0; /* åˆå§‹é€æ˜ */
            animation: popIn 0.3s forwards; /* å¼¹å‡ºåŠ¨ç”» */
            transition: all 0.3s; /* å…³é—­æ—¶çš„è¿‡æ¸¡åŠ¨ç”» */
        }

        /* å®šä¹‰å¼¹å‡ºåŠ¨ç”»ï¼šä»ç¼©å°é€æ˜åˆ°æ­£å¸¸ */
        @keyframes popIn {
            to {
                transform: scale(1);
                opacity: 1;
            }
        }
        .tip-text {
            font-size: 16px;
            color: #333;
            text-align: center;
            padding: 0 10px;
        }

        /* ç»“æŸé¡µæ ·å¼ï¼ˆå¯¹åº”Pythonçš„create_final_windowï¼‰ */
        .final-page {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: white;
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 200;
        }
        .final-text {
            font-size: 18px;
            font-weight: bold;
            background: lightpink;
            padding: 15px 30px;
            border-radius: 8px;
            margin-bottom: 30px;
        }
        .exit-btn {
            width: 120px;
            height: 40px;
            font-size: 16px;
            background: #4a6fa5;
            color: white;
            border: none;
            border-radius: 20px;
            cursor: pointer;
        }

        /* å“åº”å¼é€‚é…ï¼ˆæ‰‹æœºç«¯è°ƒæ•´ï¼‰ */
        @media (max-width: 768px) {
            .tip-window {
                width: 80vw;
                max-width: 300px;
                height: 100px;
            }
            .main-title {
                font-size: 20px;
            }
            .final-text {
                font-size: 16px;
                padding: 12px 20px;
            }
        }
    </style>
</head>
<body>
    <!-- å¯åŠ¨é¡µ -->
    <div class="start-page" id="startPage">
        <div class="title">
            <span class="gift">ğŸ</span>
            <span class="main-title">ä½ æ”¶åˆ°äº†ä¸€ä»½æ¸©æŸ”æé†’</span>
        </div>
        <span class="sub-title">æœ‹å‹ä¸ºä½ å‡†å¤‡äº†ä¸€äº›æ¸©æš–çš„è¯è¯­</span>
        <button class="start-btn" id="startBtn">å¼€å§‹ä½“éªŒ</button>
    </div>

    <!-- ç¥ç¦çª—å£å®¹å™¨ -->
    <div class="tips-container" id="tipsContainer"></div>

    <!-- ç»“æŸé¡µ -->
    <div class="final-page" id="finalPage">
        <div class="final-text">è°¢è°¢è§‚çœ‹æˆ‘çš„å¥½æœ‹å‹</div>
        <button class="exit-btn" id="exitBtn">é€€å‡º</button>
    </div>

    <script>
        // è·å–é¡µé¢å…ƒç´ 
        const startPage = document.getElementById('startPage');
        const startBtn = document.getElementById('startBtn');
        const tipsContainer = document.getElementById('tipsContainer');
        const finalPage = document.getElementById('finalPage');
        const exitBtn = document.getElementById('exitBtn');

        // ç¥ç¦è¯­å¥åˆ—è¡¨ï¼ˆä¸Pythonå®Œå…¨ä¸€è‡´ï¼‰
        const tips = [
            'å¤šå–æ°´å“¦ï½', 'ä¿æŒå¾®ç¬‘å‘€', 'æ¯å¤©éƒ½è¦å…ƒæ°”æ»¡æ»¡',
            'ä¿æŒå¥½å¿ƒæƒ…', 'å¥½å¥½çˆ±è‡ªå·±', 'æ¢¦æƒ³æˆçœŸ', 'é¡ºé¡ºåˆ©åˆ©',
            'æ—©ç‚¹ä¼‘æ¯', 'æ„¿æ‰€æœ‰çƒ¦æ¼éƒ½æ¶ˆå¤±', 'åˆ«ç†¬å¤œ', 'ä»Šå¤©è¿‡å¾—å¼€å¿ƒå˜›',
            'å¤©å†·äº†ï¼Œå¤šç©¿è¡£æœ','ç´¯äº†å°±åœä¸‹æ¥æ­‡ä¸€æ­‡',
            'ä½ çš„åŠªåŠ›è¶…æ£’çš„', 'ç…§é¡¾å¥½è‡ªå·±å‘€'
        ];

        // èƒŒæ™¯è‰²åˆ—è¡¨ï¼ˆä¸Pythonå®Œå…¨ä¸€è‡´ï¼‰
        const bgColors = [
            'lightpink', 'skyblue', 'lightgreen', 'lavender',
            'lightyellow', 'plum', 'coral', 'bisque', 'aquamarine',
            'mistyrose', 'honeydew', 'lavenderblush', 'oldlace'
        ];

        // å¼€å§‹æŒ‰é’®ç‚¹å‡»äº‹ä»¶ï¼ˆå¯¹åº”Pythonçš„start_experienceï¼‰
        startBtn.addEventListener('click', () => {
            startPage.style.display = 'none';
            createTipWindows();
        });

        // é€€å‡ºæŒ‰é’®ç‚¹å‡»äº‹ä»¶
        exitBtn.addEventListener('click', () => {
            if (window.WeixinJSBridge) {
                WeixinJSBridge.call('closeWindow'); // å¾®ä¿¡ç¯å¢ƒå…³é—­çª—å£
            } else {
                location.reload(); // å…¶ä»–ç¯å¢ƒåˆ·æ–°é‡ç½®
            }
        });

        /**
         * åˆ›å»ºæ‰€æœ‰ç¥ç¦çª—å£ï¼ˆå¯¹åº”Pythonçš„å¾ªç¯åˆ›å»ºToplevelçª—å£ï¼‰
         */
        function createTipWindows() {
            const windowCount = 80; // æ¯”ä¹‹å‰å¤šä¸€ç‚¹ï¼Œæ¥è¿‘Pythonçš„200ä¸ªï¼ˆç½‘é¡µèƒ½æ‰¿è½½çš„ä¸Šé™ï¼‰
            const screenWidth = window.innerWidth;
            const screenHeight = window.innerHeight;
            tipsContainer.innerHTML = '';

        for (let i = 0; i < windowCount; i++) {
            // éšæœºä½ç½®ï¼ˆæ‰©å¤§èŒƒå›´ï¼Œå…è®¸æ›´å¤šçª—å£åˆ†å¸ƒï¼‰
            const left = Math.random() * (screenWidth + 200) - 100; // å·¦å³è¶…å‡º100px
            const top = Math.random() * (screenHeight + 200) - 100; // ä¸Šä¸‹è¶…å‡º100px

            const tipText = tips[Math.floor(Math.random() * tips.length)];
            const bgColor = bgColors[Math.floor(Math.random() * bgColors.length)];

            const tipWindow = document.createElement('div');
            tipWindow.className = 'tip-window';
            tipWindow.style.left = `${left}px`;
            tipWindow.style.top = `${top}px`;
            tipWindow.style.backgroundColor = bgColor;
            tipWindow.innerHTML = `<span class="tip-text">${tipText}</span>`;
            tipsContainer.appendChild(tipWindow);

            // å…³é”®ï¼šæ¯ä¸ªçª—å£çš„å¼¹å‡ºåŠ¨ç”»å»¶è¿Ÿéšæœºï¼ˆ0-500msï¼‰ï¼Œé¿å…åŒæ­¥å‡ºç°
            tipWindow.style.animationDelay = `${Math.random() * 500}ms`;
        }

    // 2ç§’åå¼€å§‹å…³é—­
        setTimeout(() => closeWindowsOneByOne(0), 2000);
    }

        /**
         * é€ä¸ªå…³é—­çª—å£ï¼ˆå¯¹åº”Pythonçš„close_windows_one_by_oneï¼‰
         */
        function closeWindowsOneByOne(index) {
            const allWindows = document.querySelectorAll('.tip-window');
            if (index < allWindows.length) {
                allWindows[index].classList.add('hide'); // è§¦å‘å…³é—­åŠ¨ç”»
                setTimeout(() => {
                closeWindowsOneByOne(index + 1);
            }, 20); // ç¨æ…¢ä¸€ç‚¹ï¼Œè®©åŠ¨ç”»æ›´æ˜æ˜¾
        } else {
            finalPage.style.display = 'flex';
        }
    }

        /**
         * ä¼‘çœ å‡½æ•°ï¼ˆæ¨¡æ‹ŸPythonçš„time.sleepï¼‰
         */
        function awaitSleep(ms) {
            const start = Date.now();
            while (Date.now() - start < ms) {}
        }
    </script>
</body>
</html>